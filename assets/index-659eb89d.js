import{r as u,b as X,a as A}from"./vendor-92c95717.js";import{u as G,L as S,a as z,b as Q,B as Y,R as Z,c as C}from"./router-2b44891a.js";import{m as d}from"./motion-fb2c234a.js";import{S as ee,M as re,H as te,P as ae,a as se,C as I,b as R,c as T,U as K,E as B,B as ie,T as le,d as ne,F as oe,G as ce,L as de,A as D,e as xe,f as me,g as ge,h as ue,i as he,j as P,k as ye,W as pe,l as be,m as fe,n as ve,R as je}from"./icons-fa35ce39.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function g(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=g(o);fetch(o.href,r)}})();var M={exports:{}},$={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ke=u,Ne=Symbol.for("react.element"),we=Symbol.for("react.fragment"),Ce=Object.prototype.hasOwnProperty,Se=ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Re={key:!0,ref:!0,__self:!0,__source:!0};function U(t,a,g){var s,o={},r=null,n=null;g!==void 0&&(r=""+g),a.key!==void 0&&(r=""+a.key),a.ref!==void 0&&(n=a.ref);for(s in a)Ce.call(a,s)&&!Re.hasOwnProperty(s)&&(o[s]=a[s]);if(t&&t.defaultProps)for(s in a=t.defaultProps,a)o[s]===void 0&&(o[s]=a[s]);return{$$typeof:Ne,type:t,key:r,ref:n,props:o,_owner:Se.current}}$.Fragment=we;$.jsx=U;$.jsxs=U;M.exports=$;var e=M.exports,H={},_=X;H.createRoot=_.createRoot,H.hydrateRoot=_.hydrateRoot;function k(t,a){const[g,s]=u.useState(()=>{try{const r=window.localStorage.getItem(t);return r?JSON.parse(r):a}catch(r){return console.error(`Error reading localStorage key "${t}":`,r),a}});return[g,r=>{try{const n=r instanceof Function?r(g):r;s(n),window.localStorage.setItem(t,JSON.stringify(n))}catch(n){console.error(`Error setting localStorage key "${t}":`,n)}}]}const J=u.createContext(void 0);function Te({children:t}){const[a,g]=k("theme",!1);u.useEffect(()=>{a?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[a]);const s=()=>{g(!a)};return e.jsx(J.Provider,{value:{isDark:a,toggleTheme:s},children:t})}function V(){const t=u.useContext(J);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}const F="https://api.jsonbin.io/v3/b",O="your-bin-id",E="your-api-key";async function $e(){try{const t=await fetch(`${F}/${O}/latest`,{headers:{"X-Master-Key":E,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch resources");return{success:!0,data:(await t.json()).record||[]}}catch(t){return console.error("Error fetching resources:",t),{success:!1,error:"Failed to fetch resources"}}}async function Fe(t){try{if(!(await fetch(`${F}/${O}`,{method:"PUT",headers:{"X-Master-Key":E,"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw new Error("Failed to save resources");return{success:!0,data:!0}}catch(a){return console.error("Error saving resources:",a),{success:!1,error:"Failed to save resources"}}}async function Oe(){try{const t=await fetch(`${F}/${O}-categories/latest`,{headers:{"X-Master-Key":E,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch categories");return{success:!0,data:(await t.json()).record||[]}}catch(t){return console.error("Error fetching categories:",t),{success:!1,error:"Failed to fetch categories"}}}async function Ee(t){try{if(!(await fetch(`${F}/${O}-categories`,{method:"PUT",headers:{"X-Master-Key":E,"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw new Error("Failed to save categories");return{success:!0,data:!0}}catch(a){return console.error("Error saving categories:",a),{success:!1,error:"Failed to save categories"}}}function Le(t){const[a,g]=u.useState(navigator.onLine),[s,o]=u.useState(null),[r,n]=u.useState("idle");return u.useEffect(()=>{const x=()=>g(!0),h=()=>g(!1);return window.addEventListener("online",x),window.addEventListener("offline",h),()=>{window.removeEventListener("online",x),window.removeEventListener("offline",h)}},[]),{isOnline:a,lastSync:s,syncStatus:r,loadFromCloud:async()=>{if(!t.enableSync||!t.binId||!t.apiKey)return{resources:[],categories:[]};n("syncing");try{const[x,h]=await Promise.all([$e(),Oe()]);return x.success&&h.success?(n("success"),o(new Date),{resources:x.data||[],categories:h.data||[]}):(n("error"),{resources:[],categories:[]})}catch(x){return console.error("Error loading from cloud:",x),n("error"),{resources:[],categories:[]}}},saveToCloud:async(x,h)=>{if(!t.enableSync||!t.binId||!t.apiKey)return!1;n("syncing");try{const[c,l]=await Promise.all([Fe(x),Ee(h)]);return c.success&&l.success?(n("success"),o(new Date),!0):(n("error"),!1)}catch(c){return console.error("Error saving to cloud:",c),n("error"),!1}}}}const q=u.createContext(void 0),Ie=[{id:"1",name:"前端开发",color:"#3b82f6",icon:"💻"},{id:"2",name:"后端开发",color:"#10b981",icon:"⚙️"},{id:"3",name:"数据科学",color:"#f59e0b",icon:"📊"},{id:"4",name:"设计",color:"#ef4444",icon:"🎨"},{id:"5",name:"工具",color:"#8b5cf6",icon:"🛠️"}];function He({children:t}){const[a,g]=k("resources",[]),[s,o]=k("categories",Ie),[r,n]=k("enableCloudSync",!1),[m]=k("binId",""),[i]=k("apiKey",""),{isOnline:x,lastSync:h,syncStatus:c,loadFromCloud:l,saveToCloud:y}=Le({enableSync:r,binId:m,apiKey:i}),f=p=>{const N={...p,id:Date.now().toString(),addedDate:new Date().toISOString()};g([...a,N])},j=(p,N)=>{g(a.map(L=>L.id===p?{...L,...N}:L))},b=p=>{g(a.filter(N=>N.id!==p))},v=async()=>{r&&x&&await y(a,s)},W=async()=>{if(r&&x){const p=await l();p.resources.length>0&&g(p.resources),p.categories.length>0&&o(p.categories)}};return u.useEffect(()=>{if(r&&x){const p=setTimeout(()=>{v()},1e3);return()=>clearTimeout(p)}},[a,s,r,x]),e.jsx(q.Provider,{value:{resources:a,setResources:g,addResource:f,updateResource:j,deleteResource:b,categories:s,setCategories:o,enableCloudSync:r,setEnableCloudSync:n,syncStatus:c,lastSync:h,syncToCloud:v,loadFromCloud:W},children:t})}function w(){const t=u.useContext(q);if(t===void 0)throw new Error("useResources must be used within a ResourceProvider");return t}const ze=()=>{const{isDark:t,toggleTheme:a}=V(),g=G(),s=[{path:"/",label:"首页",icon:te},{path:"/add",label:"添加资源",icon:ae},{path:"/settings",label:"设置",icon:se}];return e.jsx(d.header,{initial:{y:-100},animate:{y:0},transition:{duration:.5,ease:"easeOut"},className:"sticky top-0 z-50 backdrop-blur-md bg-white/80 dark:bg-dark-800/80 border-b border-white/20 dark:border-white/10",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsx(d.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(S,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-primary-500 to-primary-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"LR"})}),e.jsx("span",{className:"text-xl font-bold text-gradient",children:"学习资源库"})]})}),e.jsx("nav",{className:"hidden md:flex items-center space-x-6",children:s.map(o=>{const r=o.icon,n=g.pathname===o.path;return e.jsx(d.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(S,{to:o.path,className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-all duration-200 ${n?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[e.jsx(r,{size:18}),e.jsx("span",{children:o.label})]})},o.path)})}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx(d.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:a,className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200",children:t?e.jsx(ee,{className:"w-5 h-5 text-yellow-500"}):e.jsx(re,{className:"w-5 h-5 text-gray-600"})})})]})})})},De=({children:t})=>{const{isDark:a}=V();return e.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${a?"bg-gradient-to-br from-dark-900 via-dark-800 to-dark-700":"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50"}`,children:[e.jsx(ze,{}),e.jsx(d.main,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"container mx-auto px-4 py-8",children:t})]})},Pe=({resource:t,viewMode:a})=>{const{updateResource:g}=w(),s=i=>{i.preventDefault(),i.stopPropagation(),g(t.id,{isFavorite:!t.isFavorite})},o=i=>{switch(i){case"video":return"🎥";case"article":return"📄";case"course":return"🎓";case"book":return"📚";case"tool":return"🛠️";default:return"📄"}},r=i=>{switch(i){case"beginner":return"text-green-500";case"intermediate":return"text-yellow-500";case"advanced":return"text-red-500";default:return"text-gray-500"}},n=i=>{switch(i){case"beginner":return"初级";case"intermediate":return"中级";case"advanced":return"高级";default:return"未知"}},m={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}},hover:{y:-5,transition:{duration:.2}}};return a==="list"?e.jsx(d.div,{variants:m,whileHover:"hover",className:"bg-white/80 dark:bg-dark-800/80 backdrop-blur-sm rounded-2xl border border-white/20 dark:border-white/10 overflow-hidden hover:shadow-xl transition-all duration-300",children:e.jsx(S,{to:`/resource/${t.id}`,className:"block",children:e.jsxs("div",{className:"flex items-center p-6 space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-xl flex items-center justify-center text-2xl",children:o(t.type)})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white truncate",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.category}),e.jsx("span",{className:`text-xs ${r(t.difficulty)}`,children:n(t.difficulty)}),t.duration&&e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center",children:[e.jsx(I,{size:12,className:"mr-1"}),t.duration]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[e.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((i,x)=>e.jsx(R,{size:14,className:`${x<t.rating?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},x))}),e.jsx(d.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:s,className:`p-1 rounded-full transition-colors duration-200 ${t.isFavorite?"text-red-500":"text-gray-400 hover:text-red-500"}`,children:e.jsx(T,{size:16,className:t.isFavorite?"fill-current":""})})]})]})})]})})}):e.jsx(d.div,{variants:m,whileHover:"hover",className:"bg-white/80 dark:bg-dark-800/80 backdrop-blur-sm rounded-2xl border border-white/20 dark:border-white/10 overflow-hidden hover:shadow-xl transition-all duration-300",children:e.jsxs(S,{to:`/resource/${t.id}`,className:"block",children:[e.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:[e.jsx("div",{className:"text-6xl",children:o(t.type)}),e.jsx(d.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:s,className:"absolute top-3 right-3 p-2 bg-white/20 backdrop-blur-sm rounded-full transition-colors duration-200",children:e.jsx(T,{size:18,className:`${t.isFavorite?"text-red-500 fill-current":"text-white"}`})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white line-clamp-2",children:t.title}),e.jsx("div",{className:"flex items-center space-x-1 ml-2",children:[...Array(5)].map((i,x)=>e.jsx(R,{size:14,className:`${x<t.rating?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},x))})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4 line-clamp-3",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("span",{className:"text-xs px-2 py-1 bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 rounded-full",children:t.category}),e.jsx("span",{className:`text-xs ${r(t.difficulty)}`,children:n(t.difficulty)})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[t.duration&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(I,{size:12,className:"mr-1"}),t.duration]}),t.author&&e.jsxs("span",{className:"flex items-center",children:[e.jsx(K,{size:12,className:"mr-1"}),t.author]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(B,{size:12,className:"mr-1"}),"查看详情"]})]})]})]})})},_e=({filters:t,onFiltersChange:a})=>{const g=[{value:"video",label:"视频",icon:"🎥"},{value:"article",label:"文章",icon:"📄"},{value:"course",label:"课程",icon:"🎓"},{value:"book",label:"书籍",icon:"📚"},{value:"tool",label:"工具",icon:"🛠️"}],s=[{value:"beginner",label:"初级",color:"text-green-500"},{value:"intermediate",label:"中级",color:"text-yellow-500"},{value:"advanced",label:"高级",color:"text-red-500"}],o=[{value:5,label:"5星"},{value:4,label:"4星以上"},{value:3,label:"3星以上"},{value:2,label:"2星以上"},{value:1,label:"1星以上"}],r=(i,x)=>{a({...t,[i]:x===t[i]?void 0:x})},n=()=>{a({})},m=Object.values(t).some(i=>i!==void 0);return e.jsxs(d.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"筛选条件"}),m&&e.jsx(d.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"text-sm text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors duration-200",children:"清除所有筛选"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"资源类型"}),e.jsx("div",{className:"space-y-2",children:g.map(i=>e.jsxs(d.label,{whileHover:{scale:1.02},className:`flex items-center space-x-2 p-2 rounded-lg cursor-pointer transition-all duration-200 ${t.type===i.value?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[e.jsx("input",{type:"radio",name:"type",value:i.value,checked:t.type===i.value,onChange:()=>r("type",i.value),className:"sr-only"}),e.jsx("span",{className:"text-lg",children:i.icon}),e.jsx("span",{className:"text-sm",children:i.label})]},i.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"难度等级"}),e.jsx("div",{className:"space-y-2",children:s.map(i=>e.jsxs(d.label,{whileHover:{scale:1.02},className:`flex items-center space-x-2 p-2 rounded-lg cursor-pointer transition-all duration-200 ${t.difficulty===i.value?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[e.jsx("input",{type:"radio",name:"difficulty",value:i.value,checked:t.difficulty===i.value,onChange:()=>r("difficulty",i.value),className:"sr-only"}),e.jsx("div",{className:`w-3 h-3 rounded-full ${i.color.replace("text-","bg-")}`}),e.jsx("span",{className:"text-sm",children:i.label})]},i.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"评分"}),e.jsx("div",{className:"space-y-2",children:o.map(i=>e.jsxs(d.label,{whileHover:{scale:1.02},className:`flex items-center space-x-2 p-2 rounded-lg cursor-pointer transition-all duration-200 ${t.rating===i.value?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[e.jsx("input",{type:"radio",name:"rating",value:i.value,checked:t.rating===i.value,onChange:()=>r("rating",i.value),className:"sr-only"}),e.jsx("span",{className:"text-sm",children:i.label})]},i.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"分类"}),e.jsx("input",{type:"text",placeholder:"输入分类名称...",value:t.category||"",onChange:i=>r("category",i.target.value||void 0),className:"w-full p-2 bg-white/80 dark:bg-dark-700/80 border border-gray-200 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200"})]})]})]})},Ae=({resources:t})=>{const a=A.useMemo(()=>{const r=t.length,n=t.filter(c=>c.isFavorite).length,m=t.length>0?(t.reduce((c,l)=>c+l.rating,0)/t.length).toFixed(1):"0.0",i=t.reduce((c,l)=>(c[l.type]=(c[l.type]||0)+1,c),{}),x=t.reduce((c,l)=>(c[l.category]=(c[l.category]||0)+1,c),{}),h=t.reduce((c,l)=>(c[l.difficulty]=(c[l.difficulty]||0)+1,c),{});return{totalResources:r,favoriteResources:n,averageRating:m,typeStats:i,categoryStats:x,difficultyStats:h}},[t]),g=[{title:"总资源数",value:a.totalResources,icon:ie,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900/30",textColor:"text-blue-700 dark:text-blue-300"},{title:"收藏资源",value:a.favoriteResources,icon:T,color:"from-red-500 to-red-600",bgColor:"bg-red-100 dark:bg-red-900/30",textColor:"text-red-700 dark:text-red-300"},{title:"平均评分",value:a.averageRating,icon:R,color:"from-yellow-500 to-yellow-600",bgColor:"bg-yellow-100 dark:bg-yellow-900/30",textColor:"text-yellow-700 dark:text-yellow-300"},{title:"学习进度",value:"85%",icon:le,color:"from-green-500 to-green-600",bgColor:"bg-green-100 dark:bg-green-900/30",textColor:"text-green-700 dark:text-green-300"}],s={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},o={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.3}},hover:{y:-5,scale:1.02,transition:{duration:.2}}};return e.jsxs(d.div,{variants:s,initial:"hidden",animate:"visible",className:"space-y-6",children:[e.jsx(d.div,{variants:s,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:g.map(r=>{const n=r.icon;return e.jsx(d.div,{variants:o,whileHover:"hover",className:`${r.bgColor} rounded-2xl p-6 border border-white/20 dark:border-white/10 backdrop-blur-sm`,children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-r ${r.color}`,children:e.jsx(n,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-2xl font-bold ${r.textColor}`,children:r.value}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:r.title})]})]})},r.title)})}),e.jsxs(d.div,{variants:o,className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white/50 dark:bg-dark-800/50 backdrop-blur-sm rounded-2xl p-6 border border-white/20 dark:border-white/10",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"资源类型分布"}),e.jsx("div",{className:"space-y-3",children:Object.entries(a.typeStats).map(([r,n])=>{const m=a.totalResources>0?(n/a.totalResources*100).toFixed(1):"0",i={video:"🎥",article:"📄",course:"🎓",book:"📚",tool:"🛠️"};return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:i[r]||"📄"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300 capitalize",children:r})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 h-2 rounded-full transition-all duration-500",style:{width:`${m}%`}})}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 w-8",children:n})]})]},r)})})]}),e.jsxs("div",{className:"bg-white/50 dark:bg-dark-800/50 backdrop-blur-sm rounded-2xl p-6 border border-white/20 dark:border-white/10",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"分类分布"}),e.jsx("div",{className:"space-y-3",children:Object.entries(a.categoryStats).sort(([,r],[,n])=>n-r).slice(0,5).map(([r,n])=>{const m=a.totalResources>0?(n/a.totalResources*100).toFixed(1):"0";return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:r}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 h-2 rounded-full transition-all duration-500",style:{width:`${m}%`}})}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 w-8",children:n})]})]},r)})})]}),e.jsxs("div",{className:"bg-white/50 dark:bg-dark-800/50 backdrop-blur-sm rounded-2xl p-6 border border-white/20 dark:border-white/10",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"难度分布"}),e.jsx("div",{className:"space-y-3",children:Object.entries(a.difficultyStats).map(([r,n])=>{const m=a.totalResources>0?(n/a.totalResources*100).toFixed(1):"0",i={beginner:"from-green-500 to-green-600",intermediate:"from-yellow-500 to-yellow-600",advanced:"from-red-500 to-red-600"},x={beginner:"初级",intermediate:"中级",advanced:"高级"};return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:x[r]||r}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:`bg-gradient-to-r ${i[r]||"from-gray-500 to-gray-600"} h-2 rounded-full transition-all duration-500`,style:{width:`${m}%`}})}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 w-8",children:n})]})]},r)})})]})]})]})},Ke=()=>{const{resources:t}=w(),[a,g]=u.useState({}),[s,o]=u.useState(""),[r,n]=u.useState("grid"),[m,i]=u.useState(!1),x=u.useMemo(()=>t.filter(c=>{if(s){const l=s.toLowerCase();if(!c.title.toLowerCase().includes(l)&&!c.description.toLowerCase().includes(l)&&!c.tags.some(y=>y.toLowerCase().includes(l)))return!1}return!(a.type&&c.type!==a.type||a.category&&c.category!==a.category||a.difficulty&&c.difficulty!==a.difficulty||a.rating&&c.rating<a.rating)}),[t,a,s]),h={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-gradient",children:"我的学习资源库"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"收集和管理你发现的所有优质学习资源，让知识管理变得简单高效"})]}),e.jsx(Ae,{resources:t}),e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white/50 dark:bg-dark-800/50 backdrop-blur-sm rounded-2xl p-6 border border-white/20 dark:border-white/10",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(ne,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"搜索资源...",value:s,onChange:c=>o(c.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/80 dark:bg-dark-700/80 border border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(d.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>i(!m),className:`flex items-center gap-2 px-4 py-3 rounded-xl transition-all duration-200 ${m?"bg-primary-500 text-white":"bg-white/80 dark:bg-dark-700/80 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:[e.jsx(oe,{size:18}),e.jsx("span",{children:"筛选"})]}),e.jsxs("div",{className:"flex bg-white/80 dark:bg-dark-700/80 rounded-xl p-1",children:[e.jsx(d.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n("grid"),className:`p-2 rounded-lg transition-all duration-200 ${r==="grid"?"bg-primary-500 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:e.jsx(ce,{size:18})}),e.jsx(d.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>n("list"),className:`p-2 rounded-lg transition-all duration-200 ${r==="list"?"bg-primary-500 text-white":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:e.jsx(de,{size:18})})]})]})]}),m&&e.jsx(d.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-600",children:e.jsx(_e,{filters:a,onFiltersChange:g})})]}),e.jsx(d.div,{variants:h,initial:"hidden",animate:"visible",className:`${r==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4"}`,children:x.length>0?x.map(c=>e.jsx(Pe,{resource:c,viewMode:r},c.id)):e.jsxs(d.div,{initial:{opacity:0},animate:{opacity:1},className:"col-span-full text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📚"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 dark:text-gray-300 mb-2",children:"暂无资源"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:s||Object.keys(a).length>0?"没有找到匹配的资源，尝试调整搜索条件":"开始添加你的第一个学习资源吧！"})]})})]})},Be=()=>{const t=z(),{addResource:a,categories:g}=w(),[s,o]=u.useState({title:"",description:"",url:"",type:"article",category:"",tags:"",rating:5,isFavorite:!1,difficulty:"beginner",author:"",duration:""}),[r,n]=u.useState({}),m=l=>{const{name:y,value:f,type:j}=l.target;if(j==="checkbox"){const b=l.target.checked;o(v=>({...v,[y]:b}))}else o(j==="number"?b=>({...b,[y]:parseInt(f)}):b=>({...b,[y]:f}));r[y]&&n(b=>({...b,[y]:""}))},i=()=>{const l={};if(s.title.trim()||(l.title="标题不能为空"),s.description.trim()||(l.description="描述不能为空"),!s.url.trim())l.url="URL不能为空";else try{new URL(s.url)}catch{l.url="请输入有效的URL"}return s.category.trim()||(l.category="请选择分类"),n(l),Object.keys(l).length===0},x=l=>{if(l.preventDefault(),!i())return;const y=s.tags.split(",").map(f=>f.trim()).filter(f=>f.length>0);a({title:s.title.trim(),description:s.description.trim(),url:s.url.trim(),type:s.type,category:s.category,tags:y,rating:s.rating,isFavorite:s.isFavorite,difficulty:s.difficulty,author:s.author.trim()||void 0,duration:s.duration.trim()||void 0}),t("/")},h=[{value:"video",label:"视频",icon:"🎥"},{value:"article",label:"文章",icon:"📄"},{value:"course",label:"课程",icon:"🎓"},{value:"book",label:"书籍",icon:"📚"},{value:"tool",label:"工具",icon:"🛠️"}],c=[{value:"beginner",label:"初级",color:"text-green-500"},{value:"intermediate",label:"中级",color:"text-yellow-500"},{value:"advanced",label:"高级",color:"text-red-500"}];return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center space-x-4",children:[e.jsx(d.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/"),className:"p-2 rounded-lg bg-white/80 dark:bg-dark-800/80 backdrop-blur-sm border border-white/20 dark:border-white/10 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200",children:e.jsx(D,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gradient",children:"添加学习资源"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"记录你发现的有价值的学习资源"})]})]}),e.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white/80 dark:bg-dark-800/80 backdrop-blur-sm rounded-2xl p-8 border border-white/20 dark:border-white/10",children:e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"标题 *"}),e.jsx("input",{type:"text",name:"title",value:s.title,onChange:m,className:`w-full px-4 py-3 bg-white/80 dark:bg-dark-700/80 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 ${r.title?"border-red-500":"border-gray-200 dark:border-gray-600"}`,placeholder:"输入资源标题..."}),r.title&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.title})]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"描述 *"}),e.jsx("textarea",{name:"description",value:s.description,onChange:m,rows:3,className:`w-full px-4 py-3 bg-white/80 dark:bg-dark-700/80 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 resize-none ${r.description?"border-red-500":"border-gray-200 dark:border-gray-600"}`,placeholder:"描述这个资源的内容和价值..."}),r.description&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.description})]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"URL *"}),e.jsx("input",{type:"url",name:"url",value:s.url,onChange:m,className:`w-full px-4 py-3 bg-white/80 dark:bg-dark-700/80 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 ${r.url?"border-red-500":"border-gray-200 dark:border-gray-600"}`,placeholder:"https://example.com"}),r.url&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.url})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"资源类型"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:h.map(l=>e.jsxs(d.label,{whileHover:{scale:1.02},className:`flex items-center space-x-2 p-3 rounded-lg cursor-pointer transition-all duration-200 ${s.type===l.value?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 border-2 border-primary-500":"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border-2 border-transparent"}`,children:[e.jsx("input",{type:"radio",name:"type",value:l.value,checked:s.type===l.value,onChange:m,className:"sr-only"}),e.jsx("span",{className:"text-lg",children:l.icon}),e.jsx("span",{className:"text-sm font-medium",children:l.label})]},l.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"分类 *"}),e.jsxs("select",{name:"category",value:s.category,onChange:m,className:`w-full px-4 py-3 bg-white/80 dark:bg-dark-700/80 border rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 ${r.category?"border-red-500":"border-gray-200 dark:border-gray-600"}`,children:[e.jsx("option",{value:"",children:"选择分类"}),g.map(l=>e.jsxs("option",{value:l.name,children:[l.icon," ",l.name]},l.id))]}),r.category&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:r.category})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"难度等级"}),e.jsx("div",{className:"space-y-2",children:c.map(l=>e.jsxs(d.label,{whileHover:{scale:1.02},className:`flex items-center space-x-2 p-3 rounded-lg cursor-pointer transition-all duration-200 ${s.difficulty===l.value?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[e.jsx("input",{type:"radio",name:"difficulty",value:l.value,checked:s.difficulty===l.value,onChange:m,className:"sr-only"}),e.jsx("div",{className:`w-3 h-3 rounded-full ${l.color.replace("text-","bg-")}`}),e.jsx("span",{className:"text-sm font-medium",children:l.label})]},l.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"评分"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"range",name:"rating",min:"1",max:"5",value:s.rating,onChange:m,className:"flex-1"}),e.jsxs("span",{className:"text-lg font-semibold text-primary-600 dark:text-primary-400",children:[s.rating," ⭐"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"作者"}),e.jsx("input",{type:"text",name:"author",value:s.author,onChange:m,className:"w-full px-4 py-3 bg-white/80 dark:bg-dark-700/80 border border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"作者名称（可选）"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"时长"}),e.jsx("input",{type:"text",name:"duration",value:s.duration,onChange:m,className:"w-full px-4 py-3 bg-white/80 dark:bg-dark-700/80 border border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"如：2小时30分钟"})]}),e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"标签"}),e.jsx("input",{type:"text",name:"tags",value:s.tags,onChange:m,className:"w-full px-4 py-3 bg-white/80 dark:bg-dark-700/80 border border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"用逗号分隔多个标签，如：React, JavaScript, 前端"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"用逗号分隔多个标签"})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",name:"isFavorite",checked:s.isFavorite,onChange:m,className:"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded focus:ring-primary-500 dark:focus:ring-primary-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"添加到收藏"})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200 dark:border-gray-600",children:[e.jsx(d.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:()=>t("/"),className:"px-6 py-3 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200",children:"取消"}),e.jsxs(d.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-xl hover:from-primary-600 hover:to-primary-700 transition-all duration-200 shadow-lg",children:[e.jsx(xe,{size:18}),e.jsx("span",{children:"保存资源"})]})]})]})})]})},Me=()=>{const{id:t}=Q(),a=z(),{resources:g,updateResource:s,deleteResource:o}=w(),r=g.find(c=>c.id===t);if(!r)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"😕"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-600 dark:text-gray-300 mb-2",children:"资源未找到"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"您要查看的资源可能已被删除或不存在"}),e.jsx(d.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a("/"),className:"px-6 py-3 bg-primary-500 text-white rounded-xl hover:bg-primary-600 transition-colors duration-200",children:"返回首页"})]});const n=()=>{s(r.id,{isFavorite:!r.isFavorite})},m=()=>{window.confirm("确定要删除这个资源吗？此操作无法撤销。")&&(o(r.id),a("/"))},i=c=>{switch(c){case"video":return"🎥";case"article":return"📄";case"course":return"🎓";case"book":return"📚";case"tool":return"🛠️";default:return"📄"}},x=c=>{switch(c){case"beginner":return"text-green-500 bg-green-100 dark:bg-green-900/30";case"intermediate":return"text-yellow-500 bg-yellow-100 dark:bg-yellow-900/30";case"advanced":return"text-red-500 bg-red-100 dark:bg-red-900/30";default:return"text-gray-500 bg-gray-100 dark:bg-gray-900/30"}},h=c=>{switch(c){case"beginner":return"初级";case"intermediate":return"中级";case"advanced":return"高级";default:return"未知"}};return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(d.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a("/"),className:"p-2 rounded-lg bg-white/80 dark:bg-dark-800/80 backdrop-blur-sm border border-white/20 dark:border-white/10 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200",children:e.jsx(D,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gradient",children:"资源详情"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"查看和管理学习资源"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:`p-2 rounded-lg transition-colors duration-200 ${r.isFavorite?"bg-red-100 dark:bg-red-900/30 text-red-500":"bg-gray-100 dark:bg-gray-700 text-gray-500 hover:text-red-500"}`,children:e.jsx(T,{size:20,className:r.isFavorite?"fill-current":""})}),e.jsx(d.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:m,className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-500 hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors duration-200",children:e.jsx(me,{size:20})})]})]}),e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white/80 dark:bg-dark-800/80 backdrop-blur-sm rounded-2xl border border-white/20 dark:border-white/10 overflow-hidden",children:[e.jsxs("div",{className:"relative h-64 bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:[e.jsx("div",{className:"text-8xl",children:i(r.type)}),e.jsxs("div",{className:"absolute top-4 right-4 flex items-center space-x-2",children:[e.jsx("span",{className:"px-3 py-1 bg-white/20 backdrop-blur-sm rounded-full text-white text-sm font-medium",children:r.category}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${x(r.difficulty)}`,children:h(r.difficulty)})]})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:r.title}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 leading-relaxed",children:r.description})]}),e.jsxs("div",{className:"flex items-center space-x-1 ml-6",children:[[...Array(5)].map((c,l)=>e.jsx(R,{size:20,className:`${l<r.rating?"text-yellow-400 fill-current":"text-gray-300 dark:text-gray-600"}`},l)),e.jsxs("span",{className:"ml-2 text-lg font-semibold text-gray-700 dark:text-gray-300",children:[r.rating,"/5"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.author&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(K,{size:18,className:"text-gray-500 dark:text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"作者"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:r.author})]})]}),r.duration&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{size:18,className:"text-gray-500 dark:text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"时长"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:r.duration})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ge,{size:18,className:"text-gray-500 dark:text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"类型"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white capitalize",children:r.type})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ue,{size:18,className:"text-gray-500 dark:text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"添加时间"}),e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:new Date(r.addedDate).toLocaleDateString("zh-CN")})]})]})]}),r.tags.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"标签"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map((c,l)=>e.jsxs("span",{className:"px-3 py-1 bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 rounded-full text-sm font-medium",children:["#",c]},l))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs(d.a,{whileHover:{scale:1.05},whileTap:{scale:.95},href:r.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center space-x-2 px-6 py-3 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-xl hover:from-primary-600 hover:to-primary-700 transition-all duration-200 shadow-lg",children:[e.jsx(B,{size:18}),e.jsx("span",{children:"访问资源"})]}),e.jsxs(d.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center justify-center space-x-2 px-6 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200",children:[e.jsx(he,{size:18}),e.jsx("span",{children:"编辑资源"})]})]})]})]})]})},Ue=()=>{const t=z(),{enableCloudSync:a,setEnableCloudSync:g,syncStatus:s,lastSync:o,syncToCloud:r,loadFromCloud:n}=w(),[m,i]=u.useState(""),[x,h]=u.useState(""),[c]=u.useState(navigator.onLine),l=()=>{m&&x?(localStorage.setItem("binId",m),localStorage.setItem("apiKey",x),g(!0),alert("设置已保存！云端同步已启用。")):alert("请填写完整的配置信息！")},y=async()=>{await r()},f=async()=>{await n()},j=()=>{switch(s){case"syncing":return e.jsx(je,{className:"w-4 h-4 animate-spin text-blue-500"});case"success":return e.jsx(ve,{className:"w-4 h-4 text-green-500"});case"error":return e.jsx(fe,{className:"w-4 h-4 text-red-500"});default:return e.jsx(P,{className:"w-4 h-4 text-gray-500"})}},b=()=>{switch(s){case"syncing":return"正在同步...";case"success":return"同步成功";case"error":return"同步失败";default:return"未同步"}};return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center space-x-4",children:[e.jsx(d.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/"),className:"p-2 rounded-lg bg-white/80 dark:bg-dark-800/80 backdrop-blur-sm border border-white/20 dark:border-white/10 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200",children:e.jsx(D,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gradient",children:"设置"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"配置云端同步和系统设置"})]})]}),e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"bg-white/80 dark:bg-dark-800/80 backdrop-blur-sm rounded-2xl p-8 border border-white/20 dark:border-white/10",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a?e.jsx(P,{className:"w-6 h-6 text-blue-500"}):e.jsx(ye,{className:"w-6 h-6 text-gray-500"}),e.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"云端同步"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-100 dark:bg-gray-700 rounded-xl",children:[c?e.jsx(pe,{className:"w-5 h-5 text-green-500"}):e.jsx(be,{className:"w-5 h-5 text-red-500"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["网络状态: ",c?"已连接":"未连接"]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-100 dark:bg-gray-700 rounded-xl",children:[j(),e.jsxs("div",{children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["同步状态: ",b()]}),o&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["最后同步: ",o.toLocaleString("zh-CN")]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"JSONBin.io Bin ID"}),e.jsx("input",{type:"text",value:m,onChange:v=>i(v.target.value),className:"w-full px-4 py-3 bg-white/80 dark:bg-dark-700/80 border border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"输入你的 Bin ID"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"在 JSONBin.io 创建 bin 后获取 ID"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"API Key"}),e.jsx("input",{type:"password",value:x,onChange:v=>h(v.target.value),className:"w-full px-4 py-3 bg-white/80 dark:bg-dark-700/80 border border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"输入你的 API Key"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"在 JSONBin.io 获取你的 Master Key"})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx(d.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:l,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-200 shadow-lg",children:"保存设置"}),e.jsx(d.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:y,disabled:!a,className:`flex-1 px-6 py-3 rounded-xl transition-all duration-200 ${a?"bg-green-500 text-white hover:bg-green-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"立即同步"}),e.jsx(d.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:f,disabled:!a,className:`flex-1 px-6 py-3 rounded-xl transition-all duration-200 ${a?"bg-purple-500 text-white hover:bg-purple-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"从云端加载"})]})]})]}),e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"bg-blue-50 dark:bg-blue-900/20 backdrop-blur-sm rounded-2xl p-6 border border-blue-200 dark:border-blue-800",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-4",children:"📖 如何设置云端同步"}),e.jsxs("div",{className:"space-y-3 text-sm text-blue-800 dark:text-blue-200",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"步骤 1:"})," 访问 ",e.jsx("a",{href:"https://jsonbin.io",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"JSONBin.io"})," 并注册账号"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"步骤 2:"})," 创建一个新的 bin"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"步骤 3:"})," 复制 bin ID 和 Master Key"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"步骤 4:"})," 在上方表单中填入信息并保存"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"步骤 5:"})," 启用云端同步，数据将自动同步"]})]}),e.jsx("div",{className:"mt-4 p-3 bg-yellow-100 dark:bg-yellow-900/30 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[e.jsx("strong",{children:"注意:"})," 云端同步需要网络连接。数据会实时同步到云端，同事可以通过相同的配置访问共享数据。"]})})]})]})};function Je(){return e.jsx(Te,{children:e.jsx(He,{children:e.jsx(Y,{children:e.jsx(De,{children:e.jsxs(Z,{children:[e.jsx(C,{path:"/",element:e.jsx(Ke,{})}),e.jsx(C,{path:"/add",element:e.jsx(Be,{})}),e.jsx(C,{path:"/resource/:id",element:e.jsx(Me,{})}),e.jsx(C,{path:"/settings",element:e.jsx(Ue,{})})]})})})})})}H.createRoot(document.getElementById("root")).render(e.jsx(A.StrictMode,{children:e.jsx(Je,{})}));
